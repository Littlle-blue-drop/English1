# 🧪 AI语音评测系统 - 完整测试指南

## 📋 快速开始

### 1️⃣ 启动项目

开发服务器应该已经在运行，如果没有，请执行：

```bash
npm run dev
```

### 2️⃣ 访问应用

打开浏览器访问：** **

---

## ✅ 测试清单

### 一、基础功能测试（首页）

#### ✓ 页面加载
- [ ] 首页正常显示
- [ ] 显示 4 个功能卡片（单词、句子、段落、学习记录）
- [ ] 看到"新"标签在段落和学习记录上
- [ ] 版权信息显示 **© 2025**
- [ ] 页面响应式布局正常

---

### 二、用户认证系统测试

#### ✓ 用户注册
1. 点击右上角"注册"按钮
2. 填写信息：
   - 姓名：测试用户
   - 邮箱：test@example.com
   - 密码：test123456
   - 确认密码：test123456
3. 点击"注册"
4. **预期结果**：
   - ✅ 注册成功，跳转到首页
   - ✅ 右上角显示用户头像和姓名
   - ✅ 首页显示"欢迎回来，测试用户！"

#### ✓ 用户登出
1. 点击右上角头像打开菜单
2. 查看用户信息（邮箱、注册时间）
3. 点击"退出登录"
4. **预期结果**：
   - ✅ 成功登出
   - ✅ 跳转回首页
   - ✅ 右上角显示"登录"和"注册"按钮

#### ✓ 用户登录
1. 点击右上角"登录"按钮
2. 输入邮箱和密码
3. 点击"登录"
4. **预期结果**：
   - ✅ 登录成功
   - ✅ 显示用户信息

---

### 三、单词跟读测评

#### ✓ 基础测评
1. 点击"单词跟读"卡片
2. 选择一个预设单词（例如：hello）
3. 或者输入自定义单词
4. 点击录音按钮🎤开始录音
5. 大声朗读单词
6. 再次点击停止录音
7. **预期结果**：
   - ✅ 显示评测结果
   - ✅ 显示总分、准确度、流畅度、完整度
   - ✅ 显示每个音节的评分
   - ✅ 标注重读音节
   - ✅ 评测记录自动保存（如果已登录）

#### ✓ 测试场景
- [ ] 单词：hello
- [ ] 单词：beautiful
- [ ] 单词：congratulations
- [ ] 自定义单词

---

### 四、句子跟读测评

#### ✓ 基础测评
1. 点击"句子跟读"卡片
2. 选择一个预设句子或输入自定义句子
3. 点击录音按钮🎤
4. 朗读整个句子
5. 点击停止
6. **预期结果**：
   - ✅ 显示总分和各项评分
   - ✅ 显示每个单词的评分
   - ✅ 错误单词标红显示
   - ✅ 检测漏读、增读、回读
   - ✅ 自动保存记录

#### ✓ 测试句子
- [ ] "Hello, how are you?"
- [ ] "The quick brown fox jumps over the lazy dog."
- [ ] 自定义长句子

---

### 五、段落朗读测评 🆕

#### ✓ 预设段落测试
1. 点击"段落朗读"卡片
2. 浏览 5 篇精选段落
3. 选择一篇（例如：The Power of Reading）
4. 点击录音按钮
5. 完整朗读整个段落
6. 点击停止
7. **预期结果**：
   - ✅ 显示篇章级别评分
   - ✅ 显示准确度、流畅度、完整度、标准度
   - ✅ 显示每个单词的详细评分
   - ✅ 记录保存到数据库

#### ✓ 自定义段落测试
1. 点击"自定义段落"
2. 输入任意长度的英文段落
3. 录音并评测
4. **预期结果**：
   - ✅ 支持多段落文本
   - ✅ 评测结果准确
   - ✅ 自动保存

#### ✓ 测试内容
- [ ] The Power of Reading（阅读的力量）
- [ ] Technology and Life（技术与生活）
- [ ] Environmental Protection（环境保护）
- [ ] 自定义段落（至少50个单词）

---

### 六、学习记录系统 🆕

#### ✓ 统计数据查看
1. 完成几次评测（单词、句子、段落各至少1次）
2. 点击"学习记录"卡片
3. **预期结果**：
   - ✅ 显示总练习次数
   - ✅ 显示总学习时长
   - ✅ 显示平均分数和最高分
   - ✅ 显示分类统计（单词/句子/段落）

#### ✓ 记录列表查看
1. 查看所有练习记录
2. **预期结果**：
   - ✅ 按时间倒序显示
   - ✅ 显示类型标签（不同颜色）
   - ✅ 显示评测内容
   - ✅ 显示详细评分
   - ✅ 显示练习时长
   - ✅ 智能时间显示（今天、昨天、N天前）

#### ✓ 筛选功能
1. 点击筛选按钮
2. 测试各个筛选选项：
   - [ ] 全部记录
   - [ ] 仅单词
   - [ ] 仅句子
   - [ ] 仅段落
3. **预期结果**：
   - ✅ 筛选准确
   - ✅ 列表实时更新

---

### 七、数据持久化测试

#### ✓ 测试步骤
1. 完成几次评测
2. 查看学习记录页面，确认数据显示
3. **刷新浏览器**（F5）
4. 再次访问学习记录页面
5. **预期结果**：
   - ✅ 数据依然存在（如果配置了Supabase）
   - ⚠️ 数据丢失（如果使用内存模式）

---

## 🎯 高级测试场景

### 场景1：完整学习流程
1. 注册新账号
2. 完成单词测评 × 3
3. 完成句子测评 × 3
4. 完成段落测评 × 2
5. 查看学习记录
6. 检查统计数据准确性

### 场景2：不同评分范围测试
1. 故意读错测试低分场景（60-70分）
2. 认真朗读测试高分场景（90+分）
3. 观察评分颜色变化：
   - 🟢 90+ 绿色（优秀）
   - 🔵 80-89 蓝色（良好）
   - 🟡 70-79 黄色（及格）
   - 🟠 60-69 橙色（待提高）

### 场景3：边界测试
1. 测试空白输入
2. 测试特殊字符
3. 测试超长文本
4. 测试录音时间极短（<1秒）
5. 测试录音时间很长（>60秒）

---

## 🐛 常见问题排查

### 问题1：麦克风权限
- **现象**：录音失败
- **解决**：点击浏览器地址栏的🔒，允许麦克风权限

### 问题2：WebSocket连接失败
- **现象**：显示连接错误
- **检查**：
  1. `.env.local` 文件是否存在
  2. 讯飞API密钥是否正确配置
  3. 开发服务器是否重启（修改环境变量后必须重启）

### 问题3：评测结果不准确
- **建议**：
  1. 在安静环境录音
  2. 距离麦克风10-30cm
  3. 清晰标准地朗读
  4. 避免背景噪音

### 问题4：数据不保存
- **检查**：
  1. 是否已登录
  2. Supabase是否配置
  3. 浏览器控制台是否有错误

---

## 📊 测试报告模板

完成测试后，请记录：

```
测试日期：2025-10-28
测试环境：Windows 10 + Chrome 浏览器
测试人员：[您的名字]

✅ 通过的功能：
- [ ] 用户注册
- [ ] 用户登录
- [ ] 单词测评
- [ ] 句子测评
- [ ] 段落测评
- [ ] 学习记录
- [ ] 数据持久化

❌ 发现的问题：
1. [描述问题]
2. [描述问题]

💡 改进建议：
1. [您的建议]
2. [您的建议]
```

---

## 🎉 测试完成检查清单

### 核心功能（必测）
- [ ] 用户注册和登录正常
- [ ] 单词测评正常工作
- [ ] 句子测评正常工作
- [ ] 段落测评正常工作（新功能）
- [ ] 学习记录正常显示（新功能）
- [ ] 数据自动保存

### UI/UX（必测）
- [ ] 页面布局美观
- [ ] 响应式设计正常
- [ ] 动画过渡流畅
- [ ] 错误提示友好
- [ ] 加载状态清晰

### 性能（可选）
- [ ] 页面加载速度快
- [ ] 录音响应及时
- [ ] 评测结果返回快速
- [ ] 页面切换流畅

---

## 📞 需要帮助？

如果测试过程中遇到问题：

1. 查看浏览器控制台（F12）的错误信息
2. 查看 `TROUBLESHOOTING.md` 故障排查指南
3. 查看 `QUICK_START_v0.3.md` 快速开始指南

---

**祝测试顺利！** 🚀

如有任何问题，请随时反馈！

