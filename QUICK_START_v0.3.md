# 🚀 快速开始指南 v0.3.0

欢迎使用 AI 语音评测系统！本指南帮助您快速上手新版本的所有功能。

---

## 📋 新版本亮点 (v0.3.0)

### 🎉 三大核心更新
1. **📄 段落朗读测评** - 挑战更长的篇章朗读
2. **🗄️ Supabase 数据库** - 数据永久保存，不再丢失
3. **📊 学习记录系统** - 追踪进步，查看历史

---

## ⚡ 5分钟快速体验

### 方式 A：完整体验（推荐）

#### 第1步：配置 Supabase 数据库（5分钟）

1. **访问** [https://supabase.com](https://supabase.com) 并注册/登录
2. **创建项目**：
   - 项目名称：`english-evaluation`（任意）
   - 数据库密码：设置一个强密码并保存
   - 区域：选择 `Southeast Asia (Singapore)` 或 `Northeast Asia (Tokyo)`
3. **执行 SQL**：
   - 左侧菜单 → **SQL Editor**
   - 点击 "New query"
   - 打开项目中的 `supabase-schema.sql` 文件
   - 复制全部内容，粘贴到 SQL Editor
   - 点击 **Run** 执行
4. **获取密钥**：
   - 左侧菜单 → ⚙️ **Settings** → **API**
   - 复制 **Project URL** 和 **anon public** 密钥
5. **配置环境变量**：
   ```env
   # 在项目根目录的 .env 文件中添加
   NEXT_PUBLIC_SUPABASE_URL=https://你的项目.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=你的anon-key
   ```

📖 **详细步骤**：参考 `SUPABASE_SETUP.md`

#### 第2步：启动项目

```bash
# 重启开发服务器（加载新的环境变量）
npm run dev
```

#### 第3步：体验功能

1. **注册账号**：http://localhost:3000/register
2. **开始练习**：选择单词、句子或段落测评
3. **查看记录**：http://localhost:3000/history

---

### 方式 B：快速试用（无需数据库）

如果暂时不想配置数据库，也可以直接使用：

```bash
# 直接启动
npm run dev
```

**说明**：
- ✅ 所有功能正常使用
- ⚠️ 数据保存在内存中
- ⚠️ 刷新页面或重启服务器后数据会丢失
- 💡 配置数据库后即可永久保存数据

---

## 🎯 功能使用指南

### 1️⃣ 段落朗读测评（新功能）

**访问**：http://localhost:3000/paragraph

**特点**：
- 📄 5篇精选英语段落
- ✍️ 支持自定义段落输入
- 📊 篇章级别评测
- 🎯 考察整体流畅性和连贯性

**使用技巧**：
1. 先通读一遍段落，理解内容
2. 注意句子之间的停顿和连贯
3. 保持稳定的语速，不要过快
4. 深呼吸，放松心态

---

### 2️⃣ 学习记录系统（新功能）

**访问**：http://localhost:3000/history

**功能**：
- 📈 **总体统计**：
  - 总练习次数
  - 总学习时长
  - 平均分数 / 最高分数
- 📊 **分类统计**：
  - 单词练习次数和平均分
  - 句子练习次数和平均分
  - 段落练习次数和平均分
- 🔍 **筛选功能**：
  - 全部记录
  - 仅查看单词
  - 仅查看句子
  - 仅查看段落
- 📝 **详细记录**：
  - 练习内容
  - 评分详情（准确度、流畅度、完整度）
  - 练习时间
  - 录音时长

---

### 3️⃣ 自动保存功能

**无需操作，自动生效！**

每次完成评测后，系统会自动：
- ✅ 保存练习内容
- ✅ 保存评分结果
- ✅ 记录练习时长
- ✅ 更新统计数据

在学习记录页面即可查看所有历史。

---

## 📊 完整功能列表

| 功能 | 页面 | 说明 |
|------|------|------|
| 🏠 首页 | `/` | 功能入口 |
| 📖 单词测评 | `/word` | 单词发音练习 |
| 📝 句子测评 | `/sentence` | 句子朗读练习 |
| 📄 段落测评 | `/paragraph` | 段落朗读练习（新） |
| 📊 学习记录 | `/history` | 历史记录和统计（新） |
| 👤 注册 | `/register` | 创建新账号 |
| 🔑 登录 | `/login` | 登录系统 |

---

## 🎓 学习建议

### 初学者路线
1. **第1周**：单词测评，每天10个单词
2. **第2周**：句子测评，每天5个句子
3. **第3周**：段落测评，每天1个段落
4. **持续**：查看学习记录，追踪进步

### 提升技巧
1. **每日打卡**：坚持每天练习，形成习惯
2. **查看统计**：定期查看平均分，找到薄弱点
3. **重复练习**：对低分的内容重复练习
4. **录音对比**：注意听自己的发音问题

---

## 🔧 技术细节

### 数据库表结构

#### users 表（用户信息）
- 用户ID、姓名、邮箱
- 总练习次数、总练习时长
- 自动统计更新

#### practices 表（练习记录）
- 练习类型（单词/句子/段落）
- 练习内容
- 评分数据（总分、准确度、流畅度等）
- 详细结果（JSON格式）
- 创建时间、录音时长

### API 端点

```typescript
// 保存练习记录
POST /api/practice
Body: {
  type: 'word' | 'sentence' | 'paragraph',
  content: string,
  total_score: number,
  accuracy: number,
  fluency: number,
  integrity: number,
  standard: number,
  duration: number,
  word_details?: any,
  raw_result?: any
}

// 查询练习记录
GET /api/practice?type=word&limit=20&offset=0

// 获取统计数据
GET /api/practice/stats
```

---

## ❓ 常见问题

### Q1: 我的练习记录丢失了？

**A**: 检查是否配置了 Supabase：
1. 查看 `.env` 文件是否有 `NEXT_PUBLIC_SUPABASE_URL`
2. 如果没有，数据保存在内存中，重启会丢失
3. 配置 Supabase 后即可永久保存

### Q2: 段落测评和句子测评有什么区别？

**A**: 
- **句子测评**：单句评测，1-2句话
- **段落测评**：篇章评测，3-5句话或更长
- 段落测评更考验整体表现力和连贯性

### Q3: 学习记录可以导出吗？

**A**: 当前版本暂不支持导出，未来版本会添加。
您可以在 Supabase 控制台手动导出数据。

### Q4: 可以删除历史记录吗？

**A**: 当前版本暂不支持删除，未来版本会添加。
如需清空，可以在 Supabase 控制台手动删除。

---

## 🚀 部署到生产环境

### Vercel 部署步骤

1. **推送代码到 GitHub**
2. **在 Vercel 导入项目**
3. **配置环境变量**：
   - 添加所有 `.env` 中的变量
   - 包括 Supabase 配置
4. **部署**

📖 详细步骤：参考 `DEPLOYMENT.md`

---

## 📈 后续规划

即将推出的功能：

- [ ] 📊 学习趋势图表
- [ ] 📝 错题本功能
- [ ] 🎯 每日目标设置
- [ ] 🤖 AI 发音建议
- [ ] 🏆 排行榜系统
- [ ] 📱 移动端优化
- [ ] 🎵 录音回放功能
- [ ] 📥 记录导出功能

---

## 💬 反馈与支持

遇到问题或有建议？

- 📧 提交 GitHub Issue
- 💬 查看文档：`README.md`
- 🔧 故障排查：`TROUBLESHOOTING.md`

---

**祝您学习愉快！🎉**

